# Simple End-to-End Integration Test
# 简单的端到端集成测试
# 
# This file contains minimal test cases to verify basic functionality
# without requiring actual ai-json-operator or atc tools to be installed

common_params:
  timeout: 120
  output_dir: "tmp/integration_test"

cases:
  # Test Case 1: Basic Tool Chain Validation (using demo tools)
  - name: basic_tool_chain_test
    description: "基本工具链测试，验证步骤执行和参数传递"
    scenario: demo-scenario  # Use existing demo scenario
    validation:
      - type: exit_code
        expected: 0
        description: "演示场景应该成功执行"
    
    tags: ["integration", "basic", "demo"]

  # Test Case 2: File Validator Tool Test (using demo tool instead)
  - name: file_validator_integration_test
    description: "文件验证器集成测试"
    tool: demo-tool
    params:
      test_param: "integration_test"
    
    validation:
      - type: exit_code
        expected: 0
        description: "演示工具应该成功执行"
    
    tags: ["integration", "demo-tool", "simple"]

  # Test Case 3: Post-exec Function Test
  - name: post_exec_function_test
    description: "测试post_exec函数功能"
    tool: demo-tool  # Use existing demo tool
    params:
      test_param: "integration_test_value"
    
    validation:
      - type: exit_code
        expected: 0
        description: "演示工具应该成功执行"
    
    tags: ["integration", "post-exec", "demo"]

  # Test Case 4: Parameter Override Test
  - name: parameter_override_test
    description: "测试参数覆盖功能"
    scenario: demo-scenario
    params:
      step_one:
        custom_param: "overridden_value"
      step_two:
        another_param: "another_overridden_value"
    
    validation:
      - type: exit_code
        expected: 0
        description: "参数覆盖应该正常工作"
    
    tags: ["integration", "parameters", "override"]

# Note: Data-driven tests require external data files
# For now, focusing on basic functionality tests